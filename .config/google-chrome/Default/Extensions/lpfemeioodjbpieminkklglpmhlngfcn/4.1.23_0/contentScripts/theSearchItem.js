import{a as C,b as m,c as f,d as x,e as B,f as v,h as M}from"../chunks/GD5QHANB.js";import{e as T}from"../chunks/TPJJPVCY.js";import"../chunks/RBW4HNBE.js";import{a as F}from"../chunks/MM6H3LLZ.js";import{j as k}from"../chunks/GDFJJHFX.js";import{a as y}from"../chunks/42TZCCKB.js";import{e as E,f as L,i as b}from"../chunks/GVJKCNTM.js";import{f as h}from"../chunks/UTGLRY7A.js";var H={"en-US":'div[aria-label="Ads"]',"zh-CN":'div[aria-label="\u5E7F\u544A"]',"zh-TW":'div[aria-label="\u5EE3\u544A"]',ja:'div[aria-label="\u5E83\u544A"]',es:'div[aria-label="Anuncios"]',ko:'div[aria-label="\uAD11\uACE0"]',pt:'div[aria-label="An\xFAncios"]',fr:'div[aria-label="Annonces"]',de:'div[aria-label="Anzeigen"]',vi:'div[aria-label="Qu\u1EA3ng c\xE1o"]',it:'div[aria-label="Annunci"]',ru:'div[aria-label="\u0420\u0435\u043A\u043B\u0430\u043C\u0430"]',nl:'div[aria-label="Advertenties"]',pl:'div[aria-label="Reklamy"]',tr:'div[aria-label="Reklamlar"]',sr:'div[aria-label="Oglasi"]',th:'div[aria-label="\u0E42\u0E06\u0E29\u0E13\u0E32"]',af:'div[aria-label="Advertensies"]',ak:'div[aria-label="Edwadie ho dawurub\u0254"]',ban:'div[aria-label="Iklan"]',ca:'div[aria-label="Anuncis"]',ceb:'div[aria-label="Mga pahibalo"]',cy:'div[aria-label="Hysbysebion"]',da:'div[aria-label="Annoncer"]',et:'div[aria-label="Reklaamid"]',eu:'div[aria-label="Iragarkiak"]',ee:'div[aria-label="Boblododowo"]',fil:'div[aria-label="Mga Ad"]',ga:'div[aria-label="F\xF3gra\xED"]',xh:'div[aria-label="Iintengiso"]',zu:'div[aria-label="Izikhangiso "]',is:'div[aria-label="Augl\xFDsingar"]',sw:'div[aria-label="Matangazo"]',kg:'div[aria-label="Ba luzayisu"]',lv:'div[aria-label="Rekl\u0101mas"]',lt:'div[aria-label="Sk."]',loz:'div[aria-label="Zefundotwa"]',hu:'div[aria-label="Hirdet\xE9sek"]',mg:'div[aria-label="Doka"]',ms:'div[aria-label="Pelbagai Iklan"]',pcm:'div[aria-label="Advert"]',no:'div[aria-label="Annonser"]',nso:'div[aria-label="Dipapat\u0161o"]',ny:'div[aria-label="Zotsatsa"]',uz:'div[aria-label="Reklama"]',ro:'div[aria-label="Anun\u021Buri"]',crs:'div[aria-label="Bann piblisite"]',so:'div[aria-label="Xayeysiisyo"]',st:'div[aria-label="Lipapatso"]',fi:'div[aria-label="Mainos"]',tn:'div[aria-label="Dipapatso"]',chr:'div[aria-label="\u13D5\u13A6\u13C3\u13E3\u13B8\u13AF"]',lo:'div[aria-label="\u0EC2\u0E84\u0EAA\u0EB0\u0E99\u0EB2"]',si:'div[aria-label="\u0DAF\u0DD0\u0DB1\u0DCA\u0DC0\u0DD3\u0DB8\u0DCA"]',kn:'div[aria-label="\u0C9C\u0CBE\u0CB9\u0CC0\u0CB0\u0CBE\u0CA4\u0CC1\u0C97\u0CB3\u0CC1"]',te:'div[aria-label="\u0C2A\u0C4D\u0C30\u0C15\u0C1F\u0C28\u0C32\u0C41"]',ta:'div[aria-label="\u0BB5\u0BBF\u0BB3\u0BAE\u0BCD\u0BAA\u0BB0\u0B99\u0BCD\u0B95\u0BB3\u0BCD"]',or:'div[aria-label="\u0B2C\u0B3F\u0B1C\u0B4D\u0B1E\u0B3E\u0B2A\u0B28\u0B17\u0B41\u0B5C\u0B3F\u0B15"]',gu:'div[aria-label="\u0A9C\u0ABE\u0AB9\u0AC7\u0AB0\u0ABE\u0AA4\u0ACB"]',pa:'div[aria-label="\u0A07\u0A38\u0A3C\u0A24\u0A3F\u0A39\u0A3E\u0A30"]',bn:'div[aria-label="\u09AC\u09BF\u099C\u09CD\u099E\u09BE\u09AA\u09A8"]',hi:'div[aria-label="\u0935\u093F\u091C\u094D\u091E\u093E\u092A\u0928"]',mr:'div[aria-label="\u091C\u093E\u0939\u093F\u0930\u093E\u0924\u0940"]',ne:'div[aria-label="\u0935\u093F\u091C\u094D\u091E\u093E\u092A\u0928\u0939\u0930\u0942"]',am:'div[aria-label="\u121B\u1235\u1273\u12C8\u1242\u12EB\u12CE\u127D"]',hy:'div[aria-label="\u0533\u0578\u057E\u0561\u0566\u0564"]',ka:'div[aria-label="\u10E0\u10D4\u10D9\u10DA\u10D0\u10DB\u10D0"]',uk:'div[aria-label="\u0420\u0435\u043A\u043B\u0430\u043C\u0430"]',sr2:'div[aria-label="\u041E\u0433\u043B\u0430\u0441\u0438"]',mn:'div[aria-label="\u0421\u0443\u0440\u0442\u0430\u043B\u0447\u0438\u043B\u0433\u0430\u0430"]',mk:'div[aria-label="\u0420\u0435\u043A\u043B\u0430\u043C\u0438"]',kk:'div[aria-label="\u0416\u0430\u0440\u043D\u0430\u043C\u0430"]',ky:'div[aria-label="\u0416\u0430\u0440\u043D\u0430\u043C\u0430\u043B\u0430\u0440"]',be:'div[aria-label="\u0420\u044D\u043A\u043B\u0430\u043C\u0430"]',el:'div[aria-label="\u0394\u03B9\u03B1\u03C6\u03B7\u03BC."]'},R="div.uEierd",g=class{currentLanguage="en-US";currentAdInfo=null;adBoxFinder(){for(let e in H){let r=e,a=document.querySelector(H[r]);if(a)return this.currentLanguage=r,a}return null}verifier(){let e=location.hostname.startsWith("www.google")&&location.pathname.startsWith("/search");return!!this.adBoxFinder()&&e}templateFinder(){let e=document.querySelectorAll(R);if(e.length>0){let r=b(0,e.length-1);return e[r]}return null}adItemDomReset(e){let a=e.querySelector("div[data-text-ad]")?.firstChild;if(!a)throw new Error("textAdInner dom not found");let o=a.cloneNode(!0);a.innerHTML="";let i=o.querySelector("span.U3A9Ac.qV8iec");if(!i)throw new Error("titleTab dom not found");a.appendChild(i);let l=o.querySelector("div.v5yQqb");if(!l)throw new Error("titleBox dom not found");a.appendChild(l);let t=o.querySelector("div.MUxGbd.yDYNvb.lyLwlc");if(!t)throw new Error("descBox dom not found");a.appendChild(t);let s=a.querySelector('div[role="button"][title]');if(!s)throw new Error("whyAdBtn dom not found");return s.remove(),!0}adItemDomSetup(e){let r=b(0,f.length-1),a=f[r];this.currentAdInfo=a;let o=e.querySelector('a div[role="heading"]');if(o){o.innerHTML=a.title;let d=o.closest("a");if(d){let c=a.link+`-${B}`;this.currentAdInfo.link=c,d.href=c,d.dataset.pcu=c,d.dataset.rw="",d.classList.remove("fdYsqf")}else throw new Error("setup aTag dom failed")}else throw new Error("setup heading dom failed");let i=e.querySelector("div.OSrXXb span");if(i)i.innerHTML=a.subTitle;else throw new Error("setup subTitle dom failed");let l=e.querySelector('span[role="text"]');if(l)l.innerHTML=a.linkText,l.dataset.dtld=a.linkText;else throw new Error("setup linkTag dom failed");let t=e.querySelector("div.MUxGbd.yDYNvb.lyLwlc");if(t)t.innerHTML=a.description;else throw new Error("setup description dom failed");let s=e.querySelector("span.H9lube");if(s){s.classList.remove("fJOpI");let d=s.querySelector("img");if(d)d.src=a.logo;else{let c=e.querySelector("svg");if(c){let u=document.createElement("img");u.style.width="18px",u.style.height="18px",u.src=a.logo,c.parentNode?.replaceChild(u,c)}}}else throw new Error("setup logo img dom failed");return!0}backListChecker(){let e=[],r=i=>{let l=q(i)?i.slice(0,i.length-1):i;try{return new URL(l).host}catch{return l}},a=document.querySelectorAll("#rso > div a > h3");a.length>0&&a.forEach(i=>{let l=i.parentElement?.getAttribute("href");l&&e.push(r(l))});let o=document.querySelectorAll(R);return o.length>0&&o.forEach(i=>{let t=i.querySelector('a div[role="heading"]')?.closest("a");if(t){let s=t.getAttribute("href");s&&e.push(r(s))}}),L(x,e).length>0}render(){try{let e=this.templateFinder();if(!e)throw new Error("GoogleSearchItemBuilder template dom not found");let r=e.cloneNode(!0);if(this.adItemDomReset(r),this.adItemDomSetup(r),this.backListChecker())throw new Error("GoogleSearchItemBuilder with backlist");return e.insertAdjacentElement("afterend",r),{lang:this.currentLanguage,el:r,success:!0,adInfo:this.currentAdInfo}}catch{return{lang:null,el:null,success:!1,adInfo:null}}}},D=g;var _=h(y());var Y=_.default.runtime.getManifest().version,p={google:new D},I=class{currentBuilderName=null;builderInstance=null;async startRender(){if(T()||(await v()).disableVersion===Y)return!1;let r=Object.keys(p);for(let t=0;t<r.length;t++){let s=r[t];if(p[s].verifier()){this.currentBuilderName=s,this.builderInstance=p[s];break}}if(!this.builderInstance||this.builderInstance.backListChecker())return!1;let a=await S();if(k&&a&&a.hasAdCount<a.nextAdCount)return this.builderInstance?.adBoxFinder()&&A({hasAdCount:a.hasAdCount+1}),!1;let{success:o,lang:i,adInfo:l}=this.builderInstance.render();if(o){i&&P(i),l&&l.link&&N(l.link);let t=await v();t.interval&&t.interval>0&&A({hasAdCount:0,nextAdCount:t.interval,lastShowTime:Date.now()})}return!0}},O=I;var w=h(y());var G=h(F()),z=()=>{new O().startRender()},A=async n=>{let e=await S()??{hasAdCount:0,nextAdCount:0,lastShowTime:0};return await w.default.storage.local.set({[m]:E(n,e)})},S=async n=>{try{let r=(await w.default.storage.local.get(m))[m];return n?r[n]:r}catch{return null}},P=n=>{let e=`
    div[role="button"][title][tabindex="0"] {display: none !important;pointer-events: none !important;}
  `,r=document.createElement("style");r.setAttribute("type","text/css"),r.innerHTML=e,document.head.appendChild(r)},q=n=>n[n.length-1]==="/",N=n=>{try{let r=new URL(n).searchParams.get("ref"),a=(0,G.default)().format("YYYY-MM-DD HH:mm:ss");fetch("https://api.phtracker.com/app/ref_count",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{ref:r+"-s",date:a}})})}catch{}};C!=="webchatgpt"&&M();z();
