import{c as i,u as r}from"./GDFJJHFX.js";import{a as u}from"./42TZCCKB.js";import{f as d}from"./UTGLRY7A.js";var l=d(u());var c=class{runtime;constructor(e={}){this.runtime=e.runtime||"client"}async postMessage(e){try{return await l.default.runtime.sendMessage({id:i,event:e.event,data:{...e.data,_RUNTIME_:this.runtime}})}catch(t){return{success:!1,message:t.message,data:{}}}}destroy(){}},b=()=>{let o={"gpt-4-code-interpreter":"gpt-4-code-interpreter","gpt-4-plugins":"gpt-4-plugins","gpt-4":"gpt-4","text-davinci-002-render-sha":"text-davinci-002-render-sha"};try{let t=new URLSearchParams(location.search).get("model");if(t&&o[t])return o[t];let n=document.querySelector("header.sticky");if(document.querySelector('button[aria-label="Upload file"]')||n?.textContent?.includes("Code Interpreter"))return"gpt-4-code-interpreter";if(document.querySelector('button[id^="headlessui-listbox-button-"]')||n?.textContent?.includes("Plugins"))return"gpt-4-plugins";if(document.querySelector("li[data-testid=gpt-4] > button > div")?.classList.contains("dark:bg-gray-700")||n?.textContent?.includes("GPT-4"))return"gpt-4";if(document.querySelector("li[data-testid=text-davinci-002-render-sha] > button > div")?.classList.contains("dark:bg-gray-700")||n?.textContent?.includes("GPT-3.5"))return r;let s=Object.keys(localStorage).find(a=>a.includes("/lastModelUsed"));return s?JSON.parse(localStorage.getItem(s)??"{}").modelId||r:r}catch{return r}};export{c as a,b};
